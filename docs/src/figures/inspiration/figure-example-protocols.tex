\begin{figure}
\begin{minipage}[t]{0.5\linewidth - 2pt}

\begin{subfigure}[t]{\linewidth}
\input{figure-uniform-list-format.tex}
\input{figure-uniform-list-gallop-protocol.tex}
\input{figure-uniform-list-gallop-nest.tex}
\caption{A galloping (leader) protocol for a list format. Compare to the walking
(follower) protocol of Figure \ref{fig:structure:uniform-list-walk}.}\label{fig:proto:gallop}
\end{subfigure}

\end{minipage}\hspace{4pt}%
\begin{minipage}[t]{0.5\linewidth - 2pt}

\begin{subfigure}[t]{\linewidth}
\resizebox{\linewidth}{!}{\input{figure-uniform-dense-format.tex}}
\input{figure-uniform-dense-protocol.tex}
\input{figure-uniform-dense-nest.tex}
\caption{A locate protocol for a dense format. All entries are treated as if they might be nonzero.}\label{fig:proto:dense}
\end{subfigure}

\begin{subfigure}[t]{\linewidth}
\resizebox{\linewidth}{!}{\input{figure-uniform-bitmap-format.tex}}
\input{figure-uniform-bitmap-protocol.tex}
\input{figure-uniform-bitmap-nest.tex}
\caption{A locate protocol for a bitmap format. The switch branches on whether each value is statically zero.}\label{fig:proto:bitmap}
\end{subfigure}
\end{minipage}

\caption{A protocol language also allows us to iterate over the same structure
(or even the same format) in different ways, enabling new optimization
opportunities.}
\end{figure}