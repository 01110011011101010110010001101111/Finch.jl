\begin{minipage}{\linewidth}
\flushright
\scalebox{\loopletscale}{%
\begin{tikzpicture}[>=latex]
  \matrix (looplet) [matrix of nodes,
              nodes = {indexsty},
              ampersand replacement=\&,
              anchor=north west
              ] at (0,0)
  {
  |[minimum width = 2.0*\myunit]|\juliainline{if cond} \& |[scalarsty, fill=red!50, minimum width = 4*\myunit]|\juliainline{A}\\
  |[minimum width = 2.0*\myunit]|\juliainline{else} \& |[scalarsty, fill=blue!50, minimum width = 4*\myunit]|\juliainline{B}\\
  };
  \draw[lpltsty] (looplet-1-1.north west) -- (looplet-2-1.south west);
  \draw (looplet-2-2.south west) -- ([yshift=-1*\myunit] looplet-2-2.south west);
  \draw[<->] ([yshift=-0.5*\myunit] looplet-2-2.south west) -- ([yshift=-0.5*\myunit] looplet-2-2.south east) node[midway, fill=white]{\juliainline{i:j}};
  \draw (looplet-2-2.south east) -- ([yshift=-1*\myunit] looplet-2-2.south east);

\end{tikzpicture}%
}
\end{minipage}